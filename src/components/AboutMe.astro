---
import { Image } from "astro:assets";
import aboutMeImg from "../assets/images/about-me.png";
import BlurredBlob from "./BlurredBlob.astro";

const skills = [
  "Vue.js",
  "Astro",
  "Tailwind CSS",
  "TypeScript",
  "Docker",
  "Electron",
  "Laravel",
  "Git",
  "HTML5 & CSS3",
  "Angular",
  "Git"
];
---

<section class="pt-20 pb-32 px-5 md:px-8 bg-white relative overflow-hidden" id="about-me">
  <BlurredBlob color="#FFF085" size={250} shapeStyle="style-2" className="bottom-0 right-0 sm:block hidden" />
  <div class="max-w-7xl mx-auto flex flex-col md:flex-row items-center gap-12 md:gap-20">
    <div class="w-full md:w-1/2 flex justify-center relative about-image-container opacity-0">
      <div class="relative w-64 h-64 md:w-96 md:h-96">
        <BlurredBlob color="#A2F4FD" size={200} shapeStyle="style-1" className="inset-0" />
        
        <Image 
          src={aboutMeImg} 
          alt="Román González" 
          class="w-full h-full object-contain relative z-10 floating-image"
        />
      </div>
    </div>

    <div class="w-full md:w-1/2 space-y-8 about-content opacity-0">
      <div class="space-y-4">
        <h1 class="text-5xl relative text-[#1A1A2E]">
          Sobre
          <span class="wipe-wrapper-about">
            Mí
            <span class="wipe-overlay-about">Mí</span>
          </span>
        </h1>
        <p class="text-lg text-gray-600 leading-relaxed">
          Soy Román, un desarrollador apasionado por crear interfaces funcionales. Me especializo en el desarrollo frontend
          integrando API's con backend para crear aplicaciones web modernas y dinámicas. Siempre busco aprender nuevas
          tecnologías y mejorar mis habilidades para entregar productos de alta calidad que sean llamativas o
          que resuelvan problemas de manera eficiente.
        </p>
      </div>

      <div class="space-y-4">
        <h3 class="text-xl font-bold text-[#1A1A2E]">Habilidades Técnicas</h3>
        <ul class="flex flex-wrap gap-3">
          {skills.map(skill => (
            <li class="px-4 py-2 bg-gray-50 text-gray-700 rounded-lg text-sm font-medium border border-gray-100 hover:border-indigo-200 hover:bg-indigo-50 transition-colors duration-300 cursor-default shadow-sm">
              {skill}
            </li>
          ))}
        </ul>
      </div>
    </div>
  </div>
</section>

<style>
  .floating-image {
    animation: float 6s ease-in-out infinite;
  }

  @keyframes float {
    0% {
      transform: translateY(0px);
    }
    50% {
      transform: translateY(-20px);
    }
    100% {
      transform: translateY(0px);
    }
  }

  .wipe-wrapper-about {
    position: relative;
    display: inline-block;
    color: #d1d5db;
  }

  .wipe-overlay-about {
    position: absolute;
    top: 0;
    left: 0;
    width: 0%;
    height: 100%;
    overflow: hidden;
    color: #9810FA;
    white-space: nowrap;
  }
</style>

<script>
  import gsap from "gsap";
  import { ScrollTrigger } from "gsap/ScrollTrigger";

  gsap.registerPlugin(ScrollTrigger);

  const aboutSection = document.getElementById('about-me');
  
  if (aboutSection) {
    const tl = gsap.timeline({
      scrollTrigger: {
        trigger: aboutSection,
        start: "top 70%",
        once: true
      }
    });

    tl.fromTo(".about-image-container", 
      { x: -50, opacity: 0 },
      { x: 0, opacity: 1, duration: 0.7, ease: "power3.out" }
    )
    .fromTo(".about-content",
      { x: 50, opacity: 0 },
      { x: 0, opacity: 1, duration: 0.7, ease: "power3.out" },
      "-=0.5"
    )
    .to(".wipe-overlay-about", 
      { width: "100%", duration: 1, ease: "power3.out" },
      "-=0.1"
    )
    .fromTo(".about-content li",
      { y: 20, opacity: 0 },
      { y: 0, opacity: 1, duration: 0.5, stagger: 0.05, ease: "back.out(1.7)" },
      "-=0.5"
    )
  }
</script>
